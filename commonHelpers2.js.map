{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\n\nlet formData = {\n    email: \"\",\n    message: \"\"\n  };\n\nconst form = document.querySelector(\".feedback-form\");\n\npopulateForm();\n\nform.addEventListener(\"submit\", handleFormSubmit);\nform.addEventListener(\"input\", handleFormInput);\n\n// function handleFormSubmit(event) {\n//   event.preventDefault();\n\n//   localStorage.removeItem('feedback-form-state');\n\n//   event.currentTarget.reset();\n// }\n\nfunction handleFormSubmit(event) {\n    event.preventDefault();\n    localStorage.removeItem(STORAGE_KEY);\n    event.currentTarget.reset();\n    \n    if (!formData.email || !formData.message) {\n      alert('Fill please all fields');\n      return;\n    }\n}\n\nfunction handleFormInput(event) {\n  const value = event.target.value.trim();\n  const key = event.target.name;\n\n//   let savedFeedbackData = {};\n\n  try {\n    formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n\n  if (formData) {\n    formData[key] = value;\n  } else {\n    formData = {\n      [key]: value,\n    };\n  }\n\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction populateForm() {\n//   let savedFeedbackData = {};\n\n  try {\n    formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n\n  if (!formData) {\n    return;\n  }\n\n  for (const key in formData) {\n    form.elements[key].value = formData[key];\n  }\n}\n"],"names":["STORAGE_KEY","formData","form","populateForm","handleFormSubmit","handleFormInput","event","value","key","err"],"mappings":"oDAAA,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IAEAD,EAAK,iBAAiB,SAAUE,CAAgB,EAChDF,EAAK,iBAAiB,QAASG,CAAe,EAU9C,SAASD,EAAiBE,EAAO,CAK7B,GAJAA,EAAM,eAAc,EACpB,aAAa,WAAWN,CAAW,EACnCM,EAAM,cAAc,QAEhB,CAACL,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CACL,CAEA,SAASI,EAAgBC,EAAO,CAC9B,MAAMC,EAAQD,EAAM,OAAO,MAAM,KAAI,EAC/BE,EAAMF,EAAM,OAAO,KAIzB,GAAI,CACFL,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,CACxD,OAAQS,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CAEGR,EACFA,EAASO,CAAG,EAAID,EAEhBN,EAAW,CACT,CAACO,CAAG,EAAGD,CACb,EAGE,GAAI,CACF,aAAa,QAAQP,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC3D,OAAQQ,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CACH,CAEA,SAASN,GAAe,CAGtB,GAAI,CACFF,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,CACxD,OAAQS,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CAED,GAAKR,EAIL,UAAWO,KAAOP,EAChBC,EAAK,SAASM,CAAG,EAAE,MAAQP,EAASO,CAAG,CAE3C"}